<ion-view view-title="Learning Content">
  <ion-nav-buttons side="left">
    <button class="button button-icon ion-minus-circled"
            ng-click="data.showDelete = !data.showDelete; data.showReorder = false;">
    </button>
  </ion-nav-buttons>
  <ion-nav-buttons side="right">
    <button class="button button-icon ion-navicon"
            ng-click="data.showReorder = !data.showReorder; data.showDelete = false;">
    </button>
  </ion-nav-buttons>

  <!--SEARCH FIELD QUERY -->
  <!--  <div class="bar bar-subheader item-input-inset bar-light">
      <label class="item-input-wrapper">
        <i class="icon ion-search placeholder-icon"></i>
        <input type="search" ng-model="query" placeholder="Search your Camera">
      </label>
    </div>-->
  <!--SEARCH FIELD QUERY END -->

  <!--SELECT LIST FOR CAMERA MODELS-->
<div class="list bar bar-subheader">
    <label class="item item-input item-select">
      <div class="input-label">
        Camera
      </div>
      <select  ng-model="selectCamera" ng-init="selectCamera=''">
        <option value="" selected>Select your Camera</option> <!--ng-selected="true" value="" -->
        <option value="" ng-repeat='camera in cameras' ng-show="camera.format == 'DX'">{{camera.shortname}}</option>
        <!--<option>-------------</option>-->
        <option ng-repeat='camera in cameras' ng-show="camera.format == 'FX'">{{camera.shortname}}</option>
      </select>
    </label>

    <label class="item item-input item-select">
      <div class="input-label">
        Skill level
      </div>
      <select  ng-model="selectModule" ng-init="selectModule=''">
        <option value="" selected>Skill level</option> <!--ng-selected="true" value="" -->
        <option ng-repeat="module in modules | unique: 'level'" ng-show="module.level">{{module.level}}</option>
      </select>
    </label><!--    <label class="item item-input item-select">-->
  </div> <!--div.list ende-->

  <ion-content
    class="has-subheader">
    <ion-refresher on-refresh="doRefresh()">
    </ion-refresher>

    <div class="list"></div>
    <div class="list"></div>

    <!--LIST showing LEARNING MODULES-->
    <ion-list type=""
              show-delete="data.showDelete"
              show-reorder="data.showReorder">

      <ion-item ng-repeat='module in modules | filter: selectCamera | filter: selectModule'
                class="item-thumbnail-left item-text-wrap" href="#/tab/list/{{module.shortname}}">

        <img ng-src="img/{{module.level}}-tn.png" alt="{{ module.level }}">
        <h2>{{module.title | uppercase }}</h2>
        <p>{{module.description| limitTo: 100}} {{ module.description.length > 100 ? '...' : '' }}</p>
        <ion-delete-button class="ion-minus-circled" ng-click="onItemDelete(module)"/>

        <!--DELETE AFTER DEVELOPMENT - SHOWS RELEVANT PRODUCT MODEL VARIANTS-->
        <ul ng-show="module.relevantmodels">
          <!--DISPLAY ONLY IF RELEVANT CAMERA MODELS AVAILABLE-->
          <p>This course is available for Cameras: </p>
          <li ng-repeat="relevantmodel in module.relevantmodels">
            <p>{{relevantmodel | uppercase }}</p>
          </li>
        </ul><!--DELETE AFTER DEVELOPMENT ENDE-->
        <ion-reorder-button class="ion-navicon"
                            on-reorder="moveItem(module, $fromIndex, $toIndex)"></ion-reorder-button>

        <!--Buttons with Dynamic AR content-->
        <ion-option-button ng-click="launchAR('{{module.ARView.URL}}')" class="icon button-energized outline ion-ios-world-outline">
          S360Â° View
        </ion-option-button>

      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
